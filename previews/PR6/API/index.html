<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Agtor API · Agtor.jl</title><meta name="title" content="Agtor API · Agtor.jl"/><meta property="og:title" content="Agtor API · Agtor.jl"/><meta property="twitter:title" content="Agtor API · Agtor.jl"/><meta name="description" content="Documentation for Agtor.jl."/><meta property="og:description" content="Documentation for Agtor.jl."/><meta property="twitter:description" content="Documentation for Agtor.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">Agtor.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Agtor.jl</a></li><li><a class="tocitem" href="../specs/">Example Component Specifications</a></li><li><a class="tocitem" href="../getting_started/">Getting Started</a></li><li class="is-active"><a class="tocitem" href>Agtor API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Agtor API</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Agtor API</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/ConnectedSystems/Agtor.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/ConnectedSystems/Agtor.jl/blob/main/docs/src/API.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Agtor-API"><a class="docs-heading-anchor" href="#Agtor-API">Agtor API</a><a id="Agtor-API-1"></a><a class="docs-heading-anchor-permalink" href="#Agtor-API" title="Permalink"></a></h1><article><details class="docstring" open="true"><summary id="Agtor.CategoricalParameter"><a class="docstring-binding" href="#Agtor.CategoricalParameter"><code>Agtor.CategoricalParameter</code></a> — <span class="docstring-category">Type</span></summary><div><pre><code class="language-julia hljs">CategoricalParameter</code></pre><p>Min and max values will map to (integer) element position in an CategoricalArray.</p><p>Sampling between the min and max values will be mapped to their categorical value in the given array using <code>floor()</code> of the Float value <code>x</code>.</p><p>Valid values for the CategoricalParameter will therefore be:  <code>1 &lt;= x &lt; (n+1)</code>, where n is number of options.</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/AgBase/Parameter.jl#L36-L46">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.Climate"><a class="docstring-binding" href="#Agtor.Climate"><code>Agtor.Climate</code></a> — <span class="docstring-category">Type</span></summary><div><p>Serves as an interface to climate data</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/Climate.jl#L4">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.EconManager"><a class="docstring-binding" href="#Agtor.EconManager"><code>Agtor.EconManager</code></a> — <span class="docstring-category">Type</span></summary><div><p>An &#39;economically rational&#39; crop farm manager.</p><p>Water is applied for optimal farm profitability based on soil water deficit, crop water requirements, and cost of water application.</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/Manager.jl#L9-L14">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.Infrastructure"><a class="docstring-binding" href="#Agtor.Infrastructure"><code>Agtor.Infrastructure</code></a> — <span class="docstring-category">Type</span></summary><div><p>Represents generic farm infrastructure.</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/Infrastructure/Infrastructure.jl#L4">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.Irrigation"><a class="docstring-binding" href="#Agtor.Irrigation"><code>Agtor.Irrigation</code></a> — <span class="docstring-category">Type</span></summary><div><p>On-farm irrigation infrastructure component</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/Infrastructure/Irrigation.jl#L2">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.Pump"><a class="docstring-binding" href="#Agtor.Pump"><code>Agtor.Pump</code></a> — <span class="docstring-category">Type</span></summary><div><pre><code class="language-julia hljs">Pump(pump_efficiency=0.7, cost_per_kW=0.28, derating=0.75)</code></pre><p>An on-farm pump to access water.</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/Infrastructure/Pump.jl#L2-L6">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.RigidManager"><a class="docstring-binding" href="#Agtor.RigidManager"><code>Agtor.RigidManager</code></a> — <span class="docstring-category">Type</span></summary><div><p>A rigid farm manager.</p><p>Water is applied by a pre-determined quantity rather than optimal profitability. Uses surface water first, then groundwater.</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/RigidManager.jl#L4-L9">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.ML_water_application_cost-Tuple{Manager, FarmZone, FarmField, Float64}"><a class="docstring-binding" href="#Agtor.ML_water_application_cost-Tuple{Manager, FarmZone, FarmField, Float64}"><code>Agtor.ML_water_application_cost</code></a> — <span class="docstring-category">Method</span></summary><div><pre><code class="language-julia hljs">ML_water_application_cost(m::Manager, zone::FarmZone, field::FarmField, req_water_ML_ha::Float64)::NamedTuple</code></pre><p>Calculate water application cost/ML by each water source.</p><p><strong>Returns</strong></p><p>Water source name and cost per ML/ha</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/Manager.jl#L298-L305">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.add_prefix!-Tuple{String, Any}"><a class="docstring-binding" href="#Agtor.add_prefix!-Tuple{String, Any}"><code>Agtor.add_prefix!</code></a> — <span class="docstring-category">Method</span></summary><div><p>Modify AgParameter name in place by adding a prefix.</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/AgBase/Parameter.jl#L366">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.agin-Tuple{AgParameter, Array}"><a class="docstring-binding" href="#Agtor.agin-Tuple{AgParameter, Array}"><code>Agtor.agin</code></a> — <span class="docstring-category">Method</span></summary><div><pre><code class="language-julia hljs">agin(p::AgParameter, store::Array)::Bool</code></pre><p>Agtor specific <code>in</code> function.</p><p>Purposeful decision not to override Base.in() method as this performs the check on any Array expecting NamedTuples.</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/AgBase/Parameter.jl#L94-L101">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.apply_irrigation!-Tuple{CropField, WaterSource, Float64, Float64}"><a class="docstring-binding" href="#Agtor.apply_irrigation!-Tuple{CropField, WaterSource, Float64, Float64}"><code>Agtor.apply_irrigation!</code></a> — <span class="docstring-category">Method</span></summary><div><pre><code class="language-julia hljs">apply_irrigation!(
    field::CropField,
    ws::WaterSource,
    water_to_apply_mm::Float64,
    area_to_apply::Float64
)::Nothing</code></pre><p>Apply irrigation water to field.</p><p><strong>Arguments</strong></p><ul><li><code>field</code> : Field</li><li><code>ws</code> : Water Source</li><li><code>water_to_apply_mm</code> : Volume of water to apply (in mm) with irrigation efficiencies considered.</li><li><code>area_to_apply</code>: Area irrigation occurs over</li></ul><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/Zone.jl#L117-L132">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.apply_rainfall!-Tuple{FarmZone, Dates.Date}"><a class="docstring-binding" href="#Agtor.apply_rainfall!-Tuple{FarmZone, Dates.Date}"><code>Agtor.apply_rainfall!</code></a> — <span class="docstring-category">Method</span></summary><div><p>Apply rainfall and ET to influence soil water deficit.</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/Zone.jl#L152">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.apply_rainfall!-Tuple{FarmZone, Int64}"><a class="docstring-binding" href="#Agtor.apply_rainfall!-Tuple{FarmZone, Int64}"><code>Agtor.apply_rainfall!</code></a> — <span class="docstring-category">Method</span></summary><div><p>Apply rainfall and ET to influence soil water deficit.</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/Zone.jl#L175">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.assign_managers!-Tuple{Any, Any}"><a class="docstring-binding" href="#Agtor.assign_managers!-Tuple{Any, Any}"><code>Agtor.assign_managers!</code></a> — <span class="docstring-category">Method</span></summary><div><p><strong>Example</strong></p><pre><code class="language-julia hljs"># Load zone specifications
zone_specs = load_spec(&quot;test/data/zones&quot;)

# Define managers of interest
Manager_A = EconManager(&quot;optimizing&quot;)
Manager_B = RigidManager(&quot;rigid&quot;, 0.05)

# Create tuple-based relation between managers and zones (by name)
manage_zones = ((Manager_A, (&quot;Zone_1&quot;, )), (Manager_B, (&quot;Zone_2&quot;, &quot;Zone_3&quot;)))

# Attach managers to their associated zones
assign_managers!(manage_zones, values(zone_specs))</code></pre><p>Raises <code>ArgumentError</code> if duplicate zone names are found.</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/Basin.jl#L52-L71">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.associate_managers-Tuple{Any, Any}"><a class="docstring-binding" href="#Agtor.associate_managers-Tuple{Any, Any}"><code>Agtor.associate_managers</code></a> — <span class="docstring-category">Method</span></summary><div><p>associate_managers(managers, zones)</p><p>Map a given list of managers to a list of zones.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">OptimizingManager = EconManager(&quot;optimizing&quot;)
manage_zones = associate_managers([OptimizingManager], [[:Zone_1, :Zone_2]])</code></pre><p><strong>Arguments</strong></p><ul><li>managers : list-like, of managers</li><li>zones : list-like of a list of zone names to associate a manager with</li></ul><p><strong>Returns</strong></p><p>Tuple of tuples of managers and the names of zones they manage</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/Basin.jl#L28-L46">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.calc_ML_pump_costs-Tuple{Manager, FarmZone, Float64}"><a class="docstring-binding" href="#Agtor.calc_ML_pump_costs-Tuple{Manager, FarmZone, Float64}"><code>Agtor.calc_ML_pump_costs</code></a> — <span class="docstring-category">Method</span></summary><div><p>Calculate pumping costs (per ML) for each water source.</p><p><strong>Arguments</strong></p><ul><li><code>m</code> : manager component</li><li><code>zone</code> : FarmZone</li><li><code>flow_rate_Lps</code> : float, desired flow rate in Litres per second.</li></ul><p><strong>Returns</strong></p><p>Dict{String,Float64} : Cost of pumping per ML for each water source.</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/Manager.jl#L322-L332">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.calc_potential_crop_yield-Tuple{Function}"><a class="docstring-binding" href="#Agtor.calc_potential_crop_yield-Tuple{Function}"><code>Agtor.calc_potential_crop_yield</code></a> — <span class="docstring-category">Method</span></summary><div><pre><code class="language-julia hljs">calc_potential_crop_yield(method::Function; kwargs...)</code></pre><p>Calculate potential crop yield using an arbitrary function. This function enables a consistent interface to be provided.</p><p>Function must return a Tuple of results or a Float64</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/Field.jl#L315-L322">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.calc_required_water-Tuple{FarmField, Dates.Date}"><a class="docstring-binding" href="#Agtor.calc_required_water-Tuple{FarmField, Dates.Date}"><code>Agtor.calc_required_water</code></a> — <span class="docstring-category">Method</span></summary><div><pre><code class="language-julia hljs">calc_required_water(f::FarmField, dt::Date)</code></pre><p>Volume of water to maintain moisture above net irrigation depth (<code>nid</code>).</p><p>Calculates volume of water needed to replenish soil water deficit (<code>swd</code>) when SWD falls below <code>nid</code>, considering irrigation efficiency.</p><p>Values are given in mm.</p><ul><li>link to <a href="#Agtor.nid-Tuple{FarmField, Dates.Date}"><code>nid(f::FarmField, dt::Date)</code></a></li></ul><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/Field.jl#L197-L208">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.collate_by_scenario-Tuple{Union{Dict, OrderedCollections.OrderedDict}, String}"><a class="docstring-binding" href="#Agtor.collate_by_scenario-Tuple{Union{Dict, OrderedCollections.OrderedDict}, String}"><code>Agtor.collate_by_scenario</code></a> — <span class="docstring-category">Method</span></summary><div><pre><code class="language-julia hljs">collate_by_scenario(results::DICT_TYPE, metric::String; res_type::String=&quot;zone_results&quot;)::OrderedDict</code></pre><p>Collate results for each result type (<code>res_type</code>).</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">res = run_scenarios!(df, campaspe_basin; pre=allocation_precall!)
zone_results = collate_by_scenario(res, &quot;irrigated_volume_sum&quot;)
# OrderedDict{String, DataFrame} with 2 entries:
#    &quot;1&quot; =&gt; 36×13 DataFrame…
#    &quot;2&quot; =&gt; 36×13 DataFrame…
#
#
# where each DataFrame contains results of the metric of interest by zone:
#
# 36×13 DataFrame
#  Row │ Date        Zone_9    Zone_8    Zone_6    Zone_5    Zone_1    Zone_2    Zone_3    Zone_10        Zone_12   Zone_4  ⋯
#      │ Date        Float64?  Float64?  Float64?  Float64?  Float64?  Float64?  Float64?  Float64?       Float64?  Float64 ⋯
# ─────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
#    1 │ 1982-01-20   3028.48   70415.2    2023.6       0.0       0.0   13348.2       0.0      1.26215e5       0.0   6955.9 ⋯
#    2 │ 1982-10-08   4497.18   35794.0    2023.6       0.0       0.0   13348.2       0.0  37563.1             0.0   6955.9
#    3 │ 1983-10-13   4497.18   36483.7    2023.6       0.0       0.0   13348.2       0.0  36700.1             0.0   6955.9
#    4 │ 1985-01-20   2854.3    70415.2    2023.6       0.0       0.0   13348.2       0.0      1.26121e5       0.0   6955.9
#   ⋮  │     ⋮          ⋮         ⋮         ⋮         ⋮         ⋮         ⋮         ⋮            ⋮           ⋮         ⋮    ⋱</code></pre><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/AgBase/ResultsHandler.jl#L117-L144">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.collate_field_logs-Tuple{FarmZone, Symbol}"><a class="docstring-binding" href="#Agtor.collate_field_logs-Tuple{FarmZone, Symbol}"><code>Agtor.collate_field_logs</code></a> — <span class="docstring-category">Method</span></summary><div><p>Collate logged values, summing on identical datetimes</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/Zone.jl#L238">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.collate_field_logs-Tuple{FarmZone}"><a class="docstring-binding" href="#Agtor.collate_field_logs-Tuple{FarmZone}"><code>Agtor.collate_field_logs</code></a> — <span class="docstring-category">Method</span></summary><div><pre><code class="language-julia hljs">collate_field_logs(zone::FarmZone)::DataFrame
collate_field_logs(seasonal_logs::Dict)::DataFrame</code></pre><p>Collate logged values, aggregating to the zonal level based on identical datetimes.</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/Zone.jl#L275-L279">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.collate_results!-Tuple{String, String}"><a class="docstring-binding" href="#Agtor.collate_results!-Tuple{String, String}"><code>Agtor.collate_results!</code></a> — <span class="docstring-category">Method</span></summary><div><pre><code class="language-julia hljs">collate_results!(fn_pattern::String, main_fn::String)::Nothing</code></pre><p>Collate individually saved <code>.jld2</code> files from distributed runs into a single JLD2 file.</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/AgBase/ResultsHandler.jl#L6-L10">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.collate_results-Tuple{String, String, Array{String}}"><a class="docstring-binding" href="#Agtor.collate_results-Tuple{String, String, Array{String}}"><code>Agtor.collate_results</code></a> — <span class="docstring-category">Method</span></summary><div><pre><code class="language-julia hljs">collate_results(fn::String, group::String, target::Array{String})::DataFrame
collate_results(data::Dict, group::String, target::Array{String})::DataFrame
collate_results(fn::String, group::String, target::String)::DataFrame
collate_results(data::Dict, group::String, target::String)::DataFrame</code></pre><p>Collate a results from across scenario runs into an individual DataFrame.</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/AgBase/ResultsHandler.jl#L26-L33">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.collate_scenario_results-Tuple{Union{Dict, OrderedCollections.OrderedDict}, String}"><a class="docstring-binding" href="#Agtor.collate_scenario_results-Tuple{Union{Dict, OrderedCollections.OrderedDict}, String}"><code>Agtor.collate_scenario_results</code></a> — <span class="docstring-category">Method</span></summary><div><pre><code class="language-julia hljs">collate_scenario_results(results::DICT_TYPE, metric::String; op=sum)::DataFrame</code></pre><p>Collate metric of interest for each scenario, aggregated by <code>op</code>.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">res = run_scenarios!(df, campaspe_basin; pre=allocation_precall!)
scen_results = collate_scenario_results(res, &quot;income_sum&quot;)
# 36×3 DataFrame
#  Row │ Date        1           2
#      │ Date        Float64     Float64
# ─────┼────────────────────────────────────
#    1 │ 1982-01-20  -1.14443e7  -3.83782e6
#    2 │ 1982-10-08  -6.23264e6   1.77937e6
#    3 │ 1983-10-13  -1.04992e7  -3.17234e6
#    4 │ 1985-01-20  -1.31009e8  -3.82679e6
#   ⋮  │     ⋮           ⋮           ⋮
#   33 │ 2013-10-13  -1.10069e7  -3.67198e6
#   34 │ 2015-01-20  -1.31051e8  -3.93724e6
#   35 │ 2015-10-08  -1.25556e8   1.77678e6
#   36 │ 2016-10-13  -1.0844e7   -3.52039e6
#                            28 rows omitted</code></pre><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/AgBase/ResultsHandler.jl#L177-L202">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.collect_agparams!-Tuple{Dict, Dict}"><a class="docstring-binding" href="#Agtor.collect_agparams!-Tuple{Dict, Dict}"><code>Agtor.collect_agparams!</code></a> — <span class="docstring-category">Method</span></summary><div><pre><code class="language-julia hljs">collect_agparams!(dataset::Dict, mainset::Dict)::Nothing</code></pre><p>Extract parameter values from Dict specification and store in a common Dict.</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/AgBase/Parameter.jl#L326-L330">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.collect_agparams!-Tuple{Union{AgComponent, AgParameter}, Array}"><a class="docstring-binding" href="#Agtor.collect_agparams!-Tuple{Union{AgComponent, AgParameter}, Array}"><code>Agtor.collect_agparams!</code></a> — <span class="docstring-category">Method</span></summary><div><p>Extract parameter values from AgComponent.</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/AgBase/Parameter.jl#L300">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.collect_agparams!-Tuple{Union{Tuple, Array}, Array}"><a class="docstring-binding" href="#Agtor.collect_agparams!-Tuple{Union{Tuple, Array}, Array}"><code>Agtor.collect_agparams!</code></a> — <span class="docstring-category">Method</span></summary><div><pre><code class="language-julia hljs">collect_agparams!(dataset::Union{Array, Tuple}, store::Array; ignore::Union{Array, Nothing}=nothing)::Nothing
collect_agparams!(dataset::Dict, store::Array; ignore::Union{Array, Nothing}=nothing)::DataFrame</code></pre><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/AgBase/Parameter.jl#L264-L267">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.collect_agparams-Tuple{Dict}"><a class="docstring-binding" href="#Agtor.collect_agparams-Tuple{Dict}"><code>Agtor.collect_agparams</code></a> — <span class="docstring-category">Method</span></summary><div><pre><code class="language-julia hljs">collect_agparams(dataset::Dict; ignore::Union{Array, Nothing}=nothing)::DataFrame</code></pre><p>Extract parameter values from Dict specification.</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/AgBase/Parameter.jl#L254-L258">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.collect_results-Tuple{Basin}"><a class="docstring-binding" href="#Agtor.collect_results-Tuple{Basin}"><code>Agtor.collect_results</code></a> — <span class="docstring-category">Method</span></summary><div><p>Collect model run results for a Basin</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/Basin.jl#L108">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.collect_results-Tuple{FarmZone}"><a class="docstring-binding" href="#Agtor.collect_results-Tuple{FarmZone}"><code>Agtor.collect_results</code></a> — <span class="docstring-category">Method</span></summary><div><p>Collect model run results for a FarmZone</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/Zone.jl#L323">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.component_relationship-Tuple{DataFrames.DataFrame}"><a class="docstring-binding" href="#Agtor.component_relationship-Tuple{DataFrames.DataFrame}"><code>Agtor.component_relationship</code></a> — <span class="docstring-category">Method</span></summary><div><p>Create relational mapping between components and values.</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/AgBase/Parameter.jl#L486-L488">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.ensure_date-Tuple{Climate, String, String}"><a class="docstring-binding" href="#Agtor.ensure_date-Tuple{Climate, String, String}"><code>Agtor.ensure_date</code></a> — <span class="docstring-category">Method</span></summary><div><p>Converts strings to datetime.</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/Climate.jl#L91">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.estimate_income_per_ha-Tuple{Crop}"><a class="docstring-binding" href="#Agtor.estimate_income_per_ha-Tuple{Crop}"><code>Agtor.estimate_income_per_ha</code></a> — <span class="docstring-category">Method</span></summary><div><p>Naive estimation of net income.</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/Crop.jl#L131">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.extract_values-Tuple{AgParameter}"><a class="docstring-binding" href="#Agtor.extract_values-Tuple{AgParameter}"><code>Agtor.extract_values</code></a> — <span class="docstring-category">Method</span></summary><div><p>Extract parameter values from AgParameter</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/AgBase/Parameter.jl#L238">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.french_schultz_cy-Tuple{}"><a class="docstring-binding" href="#Agtor.french_schultz_cy-Tuple{}"><code>Agtor.french_schultz_cy</code></a> — <span class="docstring-category">Method</span></summary><div><pre><code class="language-julia hljs">french_schultz_cy(; ssm_mm::Float64, gsr_mm::Float64, crop::AgComponent)</code></pre><p>Potential crop yield calculation based on a modified French-Schultz equation. The implemented method is the farmer-friendly version as described by Oliver et al., (2008) (see [1]).</p><p><span>$YP = (SSM + GSR - E) * WUE$</span></p><p>where</p><ul><li><span>$YP$</span> is yield potential in tonnes per hectare</li><li><span>$SSM$</span> is Stored Soil Moisture (at start of season) in mm, assumed to be 30% of summer rainfall</li><li><span>$GSR$</span> is Growing Season Rainfall in mm</li><li><span>$E$</span> is Crop Evaporation coefficient in mm, the amount of rainfall required before the crop will start   to grow, commonly 110mm, but can range from 30-170mm (see [2]),</li><li><span>$WUE$</span> is Water Use Efficiency coefficient in kg/mm</li></ul><p><strong>References</strong></p><ol><li><a href="http://www.regional.org.au/au/asa/2008/concurrent/assessing-yield-potential/5827_oliverym.htm">Oliver et al. (2008) (see Equation 1)</a></li><li><a href="http://www.regional.org.au/au/asa/2008/concurrent/assessing-yield-potential/5803_whitbreadhancock.htm">Whitbread and Hancock (2008)</a></li></ol><p><strong>Arguments</strong></p><ul><li><code>ssm_mm</code> : float, Stored Soil Moisture (mm) at start of season.</li><li><code>gsr_mm</code> : float, Growing Season Rainfall (mm)</li><li><code>crop</code> : object, Crop component object</li></ul><p><strong>Returns</strong></p><p>Potential yield in tonnes/Ha</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/Field.jl#L269-L299">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.generate_agparams-Tuple{Union{String, Symbol}, Dict}"><a class="docstring-binding" href="#Agtor.generate_agparams-Tuple{Union{String, Symbol}, Dict}"><code>Agtor.generate_agparams</code></a> — <span class="docstring-category">Method</span></summary><div><p>Generate AgParameter definitions.</p><p><strong>Arguments</strong></p><ul><li>prefix : str</li><li>dataset : Dict, of parameters for given component</li></ul><p><strong>Returns</strong></p><ul><li>Dict matching structure of dataset</li></ul><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/AgBase/Parameter.jl#L165-L174">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.get_optimum_irrigated_area-Tuple{FarmField, OrderedCollections.OrderedDict}"><a class="docstring-binding" href="#Agtor.get_optimum_irrigated_area-Tuple{FarmField, OrderedCollections.OrderedDict}"><code>Agtor.get_optimum_irrigated_area</code></a> — <span class="docstring-category">Method</span></summary><div><p>Extract total irrigated area from OptLang optimized results.</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/Manager.jl#L270">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.get_season_range-Tuple{Climate, Dates.Date, Dates.Date}"><a class="docstring-binding" href="#Agtor.get_season_range-Tuple{Climate, Dates.Date, Dates.Date}"><code>Agtor.get_season_range</code></a> — <span class="docstring-category">Method</span></summary><div><p>Gets climate data for season range.</p><p><strong>Arguments</strong></p><ul><li>p_start : datetime, start of range in Y-m-d format, inclusive.</li><li>p_end : datetime, end of range in Y-m-d format, inclusive.</li></ul><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/Climate.jl#L78-L84">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.get_seasonal_et-Tuple{Climate, Vector{Dates.Date}, String}"><a class="docstring-binding" href="#Agtor.get_seasonal_et-Tuple{Climate, Vector{Dates.Date}, String}"><code>Agtor.get_seasonal_et</code></a> — <span class="docstring-category">Method</span></summary><div><p>Retrieve seasonal evapotranspiration.</p><p><strong>Arguments</strong></p><ul><li><code>season_range</code> : List-like, start and end dates, can be string or datetime object</li><li><code>partial_name</code> : str, string to (partially) match column name identifier on</li></ul><p><strong>Returns</strong></p><p>numeric of seasonal rainfall</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/Climate.jl#L124-L133">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.get_seasonal_rainfall-Tuple{Climate, Vector{Dates.Date}, String}"><a class="docstring-binding" href="#Agtor.get_seasonal_rainfall-Tuple{Climate, Vector{Dates.Date}, String}"><code>Agtor.get_seasonal_rainfall</code></a> — <span class="docstring-category">Method</span></summary><div><p>Retrieve seasonal rainfall by matching column name. Columns names are expected to have &#39;rainfall&#39; with some identifier.</p><p><strong>Example</strong></p><p>Where column names are: &#39;rainfall<em>field1&#39;, &#39;rainfall</em>field2&#39;, ...</p><p><code>get_seasonal_rainfall(c, [&#39;1981-01-01&#39;, &#39;1982-06-01&#39;], &#39;field1&#39;)</code></p><p><strong>Arguments</strong></p><ul><li><code>season_range</code> : List-like, start and end dates, can be string or datetime object</li><li><code>partial_name</code> : str, string to (partially) match column name identifier on</li></ul><p><strong>Returns</strong></p><p>numeric, representing seasonal rainfall</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/Climate.jl#L102-L117">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.gross_income"><a class="docstring-binding" href="#Agtor.gross_income"><code>Agtor.gross_income</code></a> — <span class="docstring-category">Function</span></summary><div><pre><code class="language-julia hljs">gross_income(
    f::FarmField, area::Float64, func::Function=french_schultz_cy; kwargs...
)::Tuple{Float64}</code></pre><p>Calculate gross income and crop yield using an arbitrary crop yield function.</p><p><strong>Returns</strong></p><p>Tuple{Float64} : income [/yield], total_yield [t]</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/Field.jl#L392-L401">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.gross_income-Tuple{FarmField, Float64, Float64, Float64}"><a class="docstring-binding" href="#Agtor.gross_income-Tuple{FarmField, Float64, Float64, Float64}"><code>Agtor.gross_income</code></a> — <span class="docstring-category">Method</span></summary><div><pre><code class="language-julia hljs">gross_income(
    f::FarmField,
    ssm_mm::Float64,
    gsr_mm::Float64,
    irrig::Float64;
    func::Function=french_schultz_cy
)::Tuple</code></pre><p>Calculate gross income, potential irrigated yield, and potential dryland yield.</p><p><strong>Returns</strong></p><p>Tuple{Float64} : income, irrigated yield [t], dryland yield [t]</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/Field.jl#L351-L364">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.in_season-Tuple{Dates.Date, Dates.Date, Dates.Date}"><a class="docstring-binding" href="#Agtor.in_season-Tuple{Dates.Date, Dates.Date, Dates.Date}"><code>Agtor.in_season</code></a> — <span class="docstring-category">Method</span></summary><div><p>Check to see if given date is between start and end dates (exclusive of start and end)</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/Manager.jl#L345">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.in_season_dates-Tuple{Climate, Crop}"><a class="docstring-binding" href="#Agtor.in_season_dates-Tuple{Climate, Crop}"><code>Agtor.in_season_dates</code></a> — <span class="docstring-category">Method</span></summary><div><p>Get all in-season dates for a given crop.</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/Crop.jl#L151">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.irrigated_area-Tuple{FarmZone}"><a class="docstring-binding" href="#Agtor.irrigated_area-Tuple{FarmZone}"><code>Agtor.irrigated_area</code></a> — <span class="docstring-category">Method</span></summary><div><p>The total area marked for irrigation.</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/Zone.jl#L94">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.is_const-Tuple{AgParameter}"><a class="docstring-binding" href="#Agtor.is_const-Tuple{AgParameter}"><code>Agtor.is_const</code></a> — <span class="docstring-category">Method</span></summary><div><p>Checks if parameter is constant.</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/AgBase/Parameter.jl#L346">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.log_irrigation_by_water_source-Tuple{FarmZone, FarmField, Dates.Date}"><a class="docstring-binding" href="#Agtor.log_irrigation_by_water_source-Tuple{FarmZone, FarmField, Dates.Date}"><code>Agtor.log_irrigation_by_water_source</code></a> — <span class="docstring-category">Method</span></summary><div><p>Log irrigation volumes from water sources</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/Zone.jl#L207">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.log_irrigation_cost-Tuple{FarmField, Float64}"><a class="docstring-binding" href="#Agtor.log_irrigation_cost-Tuple{FarmField, Float64}"><code>Agtor.log_irrigation_cost</code></a> — <span class="docstring-category">Method</span></summary><div><p>Log the (total) cost of irrigation.</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/Field.jl#L109">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.maintenance_cost-Tuple{Infrastructure, Int64}"><a class="docstring-binding" href="#Agtor.maintenance_cost-Tuple{Infrastructure, Int64}"><code>Agtor.maintenance_cost</code></a> — <span class="docstring-category">Method</span></summary><div><p>Calculate maintenance costs.</p><div class="admonition is-warning" id="Warning-10d71d546cf8c73c"><header class="admonition-header">Warning<a class="admonition-anchor" href="#Warning-10d71d546cf8c73c" title="Permalink"></a></header><div class="admonition-body"><p>Don&#39;t forget that the output of this can be on a per hectare basis  or given as a total depending on how the model is parameterized.</p></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/Infrastructure/Infrastructure.jl#L25-L31">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.matching_dates-Tuple{Dates.Date, Dates.Date}"><a class="docstring-binding" href="#Agtor.matching_dates-Tuple{Dates.Date, Dates.Date}"><code>Agtor.matching_dates</code></a> — <span class="docstring-category">Method</span></summary><div><p>Check to see if two dates are identical</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/Manager.jl#L351">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.min_max-Tuple{AgParameter}"><a class="docstring-binding" href="#Agtor.min_max-Tuple{AgParameter}"><code>Agtor.min_max</code></a> — <span class="docstring-category">Method</span></summary><div><pre><code class="language-julia hljs">min_max(p::AgParameter)
min_max(dataset::Dict)::Dict</code></pre><p>Returns min/max of parameter values.</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/AgBase/Parameter.jl#L138-L143">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.nid-Tuple{FarmField, Dates.Date}"><a class="docstring-binding" href="#Agtor.nid-Tuple{FarmField, Dates.Date}"><code>Agtor.nid</code></a> — <span class="docstring-category">Method</span></summary><div><pre><code class="language-julia hljs">nid(f::FarmField, dt::Date)::Float64</code></pre><p>Calculate net irrigation depth in mm, 0.0 or above.</p><p>Equation taken from <a href="http://agriculture.vic.gov.au/agriculture/horticulture/vegetables/vegetable-growing-and-management/estimating-vegetable-crop-water-use">Agriculture Victoria</a></p><p>See also:</p><ul><li>http://www.fao.org/docrep/x5560e/x5560e03.htm</li><li>https://www.bae.ncsu.edu/programs/extension/evans/ag452-1.html</li><li>http://dpipwe.tas.gov.au/Documents/Soil-water<em>factsheet</em>14<em>12</em>2011a.pdf</li><li>https://www.agric.wa.gov.au/water-management/calculating-readily-available-water?nopaging=1</li></ul><p><span>$NID$</span> = Effective root depth (<span>$D_{rz}$</span>) <span>$*$</span> Readily Available Water (<span>$RAW$</span>)</p><p>where:</p><ul><li><span>$D_{rz}$</span> = <span>$Crop_{root depth} * Crop_{e_rz}$</span>, where <span>$Crop_{root depth}$</span> is the estimated root depth for current stage of crop (initial, late, etc.) and <span>$Crop_{e rz}$</span> is the effective root zone coefficient for the crop.</li><li><span>$Crop_{e rz}$</span> is said to be between 1 and 2/3rds of total root depth</li><li><span>$RAW = p * TAW$</span>, <span>$p$</span> is depletion fraction of crop, <span>$TAW$</span> is Total Available Water in Soil</li></ul><p>As an example, if a crop has a root depth (<span>$RD_{r}$</span>) of 1m, an effective root zone (<span>$RD_{erz}$</span>) coefficient of 0.55, a depletion fraction (<code>p</code>) of 0.4 and the soil has a <span>$TAW$</span> of 180mm:</p><p><span>$(RD_{r} * RD_{erz}) * (p * TAW)$</span></p><p>Works out to be:</p><p><span>$(1 * 0.55) * (0.4 * 180)$</span></p><p><strong>Returns</strong></p><p>net irrigation depth (in mm)</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/Field.jl#L149-L185">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.optimize_irrigated_area-Tuple{Manager, FarmZone}"><a class="docstring-binding" href="#Agtor.optimize_irrigated_area-Tuple{Manager, FarmZone}"><code>Agtor.optimize_irrigated_area</code></a> — <span class="docstring-category">Method</span></summary><div><p>Apply Linear Programming to naively optimize irrigated area.</p><p>Occurs at start of season.</p><p><strong>Arguments</strong></p><ul><li><code>m</code> : Agtor.Manager,</li><li><code>zone</code> : Agtor.FarmZone, representing a farm or a farming zone.</li></ul><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/Manager.jl#L24-L32">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.optimize_irrigation-Tuple{Manager, FarmZone, Dates.Date}"><a class="docstring-binding" href="#Agtor.optimize_irrigation-Tuple{Manager, FarmZone, Dates.Date}"><code>Agtor.optimize_irrigation</code></a> — <span class="docstring-category">Method</span></summary><div><pre><code class="language-julia hljs">optimize_irrigation(m::Manager, zone::FarmZone, dt::Date)::Tuple{OrderedDict, NamedTuple}</code></pre><p>Apply Linear Programming to optimize irrigation water use.</p><p>Results can be used to represent percentage mix e.g. if the field area is 100 ha, and the optimal area to be         irrigated by a water source is</p><pre><code class="nohighlight hljs">SW: 70 ha
GW: 30 ha</code></pre><p>and the required amount is 20mm</p><pre><code class="nohighlight hljs">SW: 70 / 100 = 0.7 (irrigated area / total area, 70%)
GW: 30 / 100 = 0.3 (30%)</code></pre><p>Then the per hectare amount to be applied from each water source is calculated as:</p><pre><code class="nohighlight hljs">SW = 20mm * 0.7
   = 14mm

GW = 20mm * 0.3
   = 6mm</code></pre><p><strong>Arguments</strong></p><ul><li><code>zone</code> : FarmZone</li><li><code>dt</code> : datetime object, current datetime</li></ul><p><strong>Returns</strong></p><p>Tuple</p><ul><li>OrderedDict{String, Float64} keys based on field and water source names values are hectare area</li><li>/ML cost of applying water</li></ul><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/Manager.jl#L102-L136">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.perc_irrigation_sources-Tuple{Manager, FarmField, Array, Dict}"><a class="docstring-binding" href="#Agtor.perc_irrigation_sources-Tuple{Manager, FarmField, Array, Dict}"><code>Agtor.perc_irrigation_sources</code></a> — <span class="docstring-category">Method</span></summary><div><p>Calculate percentage of area to be watered by a specific water source.</p><p><strong>Returns</strong></p><p>Name of water source as key and percent area as value</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/Manager.jl#L276-L281">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.possible_area_by_allocation-Tuple{FarmZone, FarmField, Float64}"><a class="docstring-binding" href="#Agtor.possible_area_by_allocation-Tuple{FarmZone, FarmField, Float64}"><code>Agtor.possible_area_by_allocation</code></a> — <span class="docstring-category">Method</span></summary><div><p>Determine the possible irrigation area using water from each water source.</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/Zone.jl#L81">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.possible_irrigation_area-Tuple{FarmField, Float64, Float64}"><a class="docstring-binding" href="#Agtor.possible_irrigation_area-Tuple{FarmField, Float64, Float64}"><code>Agtor.possible_irrigation_area</code></a> — <span class="docstring-category">Method</span></summary><div><p>Possible irrigation area in hectares.</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/Field.jl#L221">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.pumping_costs_per_ML-Tuple{Pump, Float64}"><a class="docstring-binding" href="#Agtor.pumping_costs_per_ML-Tuple{Pump, Float64}"><code>Agtor.pumping_costs_per_ML</code></a> — <span class="docstring-category">Method</span></summary><div><pre><code class="language-julia hljs">pumping_costs_per_ML(p::Pump, head_pressure::Float64)::Float64</code></pre><p>Calculate the energy cost to pump one megalitre of water.</p><p>The energy required to pump water is determined by the head pressure (vertical lift plus friction losses) and system efficiency, independent of flow rate.</p><p>Energy per megalitre:</p><p><span>$kWh/ML = (H ⋅ 2.725) / (η_pump ⋅ D)$</span></p><p>where:</p><ul><li><code>H</code> is total head pressure in metres (m)</li><li><code>2.725</code> is the gravitational constant: (g × ρ) / kWh = (9.81 m/s² × 1000 kg/m³) / 3,600,000 J/kWh</li><li><code>η_pump</code> is pump efficiency (typically 0.65-0.85)</li><li><code>D</code> is the derating factor accounting for motor and drive losses (typically 0.75-0.95)</li></ul><p>Cost per megalitre:</p><p><span>$Cost/ML = (kWh/ML) ⋅ (electricity rate in $/kWh)$</span></p><p>See:     * <a href="http://www.clw.csiro.au/publications/technical2002/tr20-02.pdf">Robinson, D. W. (2002)</a>     * <a href="http://agriculture.vic.gov.au/agriculture/farm-management/soil-and-water/irrigation/border-check-irrigation-design&gt;">Vic. Dept. Agriculture (2006)</a>     * <a href="http://irrigation.org.au/wp-content/uploads/2013/06/Gennaro-Velloti-and-Kosi-Kalogernis-presentation.pdf&gt;">Vellotti &amp; Kalogernis (2013)</a></p><p><strong>Arguments</strong></p><ul><li><code>p</code> : Pump object containing efficiency, derating, and electricity cost parameters</li><li><code>head_pressure</code> : Total dynamic head in metres (static lift + pressure head + friction losses)</li></ul><p><strong>Parameters taken from <code>p::Pump</code></strong></p><ul><li><code>pump_efficiency</code> : Efficiency of pump. Defaults to 0.7 (70%)</li><li><code>derating</code> : Accounts for efficiency losses between the energy required at the pump                   shaft and the total energy required. Defaults to 0.75</li></ul><p><strong>Returns</strong></p><ul><li>float, cost<em>per</em>ML</li></ul><p><strong>Notes</strong></p><ul><li>Flow rate does not affect cost per ML - it only affects pumping duration</li><li>Higher head pressures increase energy requirements linearly</li><li>Poor efficiency (pump or motor) significantly increases costs</li><li>For gravity-fed systems where H ≈ 0, pumping costs approach zero</li></ul><p><strong>See also</strong></p><ul><li>link to <a href="#Agtor.Pump"><code>Pump(pump_efficiency, cost_per_kW, derating)</code></a></li></ul><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/Infrastructure/Pump.jl#L28-L74">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.run_model-Tuple{Basin}"><a class="docstring-binding" href="#Agtor.run_model-Tuple{Basin}"><code>Agtor.run_model</code></a> — <span class="docstring-category">Method</span></summary><div><p>Run scenario for an entire basin.</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/Model.jl#L65">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.run_model-Tuple{FarmZone}"><a class="docstring-binding" href="#Agtor.run_model-Tuple{FarmZone}"><code>Agtor.run_model</code></a> — <span class="docstring-category">Method</span></summary><div><pre><code class="language-julia hljs">run_model(zone::FarmZone; ts_func::Function=run_timestep!, pre::Union{Function, Nothing}=nothing, post::Union{Function, Nothing}=nothing)::NamedTuple</code></pre><p>Run model for a single zone.</p><p><strong>Arguments</strong></p><ul><li>zone : Zone AgComponent</li><li>ts<em>func : Function, defining actions for a time step.       Must accept a Manager, zone, int, and Date/DateTime       `ts</em>func(manager, zone, idx, dt)`       All operations must be in-place as changes will not propagate.</li><li>pre : Function, defines additional actions for <code>zone</code> that occur       at end of time step <code>dt_i</code>:       <code>callback_func(zone, dt_i)</code></li><li>post : Function, defines additional actions for <code>zone</code> that occur        at end of time step <code>dt_i</code>:        <code>callback_func(zone, dt_i)</code></li></ul><p><strong>Returns</strong></p><p>NamedTuple : results</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/Model.jl#L5-L25">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.run_scenarios!-Tuple{DataFrames.DataFrame, Basin}"><a class="docstring-binding" href="#Agtor.run_scenarios!-Tuple{DataFrames.DataFrame, Basin}"><code>Agtor.run_scenarios!</code></a> — <span class="docstring-category">Method</span></summary><div><pre><code class="language-julia hljs">run_scenarios!(samples::DataFrame, basin::Basin, ts_func::Function;
               pre::Union{Function, Nothing}=nothing, post::Union{Function, Nothing}=nothing)::Dict</code></pre><p>Run basin level scenarios for a given sample set.</p><p><strong>Returns</strong></p><ul><li>Dict with keys:   &quot;scenario<em>id/zone</em>results&quot; = zone level results for each zone in basin   &quot;scenario<em>id/field</em>results&quot; = field level results for each zone in basin</li></ul><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/Model.jl#L133-L143">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.run_scenarios!-Tuple{DataFrames.DataFrame, FarmZone}"><a class="docstring-binding" href="#Agtor.run_scenarios!-Tuple{DataFrames.DataFrame, FarmZone}"><code>Agtor.run_scenarios!</code></a> — <span class="docstring-category">Method</span></summary><div><pre><code class="language-julia hljs">run_scenarios!(samples::DataFrame, zone::FarmZone; ts_func::Function=run_timestep!,
               pre::Union{Function, Nothing}=nothing, post::Union{Function, Nothing}=nothing)::Dict</code></pre><p>Run zone level scenarios for a given sample set.</p><p><strong>Returns</strong></p><p>Dict with keys:     - &quot;scenario<em>id/zone</em>results&quot; = zone level results     - &quot;scenario<em>id/field</em>results&quot; = field level results</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/Model.jl#L100-L110">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.run_timestep!-Tuple{Basin, Any}"><a class="docstring-binding" href="#Agtor.run_timestep!-Tuple{Basin, Any}"><code>Agtor.run_timestep!</code></a> — <span class="docstring-category">Method</span></summary><div><p>Run timestep for all zones within a basin.</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/Model.jl#L46">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.save_results!-NTuple{5, Any}"><a class="docstring-binding" href="#Agtor.save_results!-NTuple{5, Any}"><code>Agtor.save_results!</code></a> — <span class="docstring-category">Method</span></summary><div><p>Save results for a scenario, basin, and zone combination</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/AgBase/io.jl#L169">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.save_results!-Tuple{String, Any, Tuple{String, String}}"><a class="docstring-binding" href="#Agtor.save_results!-Tuple{String, Any, Tuple{String, String}}"><code>Agtor.save_results!</code></a> — <span class="docstring-category">Method</span></summary><div><p>Save arbitrary results to JLD.</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/AgBase/io.jl#L77">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.save_results!-Tuple{String, Dict}"><a class="docstring-binding" href="#Agtor.save_results!-Tuple{String, Dict}"><code>Agtor.save_results!</code></a> — <span class="docstring-category">Method</span></summary><div><p>Save results to JLD2.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">output_fn = &quot;example.jld2&quot;
results = run_scenarios!(samples, z1, run_timestep!; post=allocation_callback!)
save_results!(output_fn, results)</code></pre><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/AgBase/io.jl#L100-L110">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.save_results!-Tuple{String, NamedTuple}"><a class="docstring-binding" href="#Agtor.save_results!-Tuple{String, NamedTuple}"><code>Agtor.save_results!</code></a> — <span class="docstring-category">Method</span></summary><div><p>Save arbitrary results to JLD.</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/AgBase/io.jl#L89">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.save_results!-Tuple{String, Union{Int64, String}, NamedTuple}"><a class="docstring-binding" href="#Agtor.save_results!-Tuple{String, Union{Int64, String}, NamedTuple}"><code>Agtor.save_results!</code></a> — <span class="docstring-category">Method</span></summary><div><p>Save results for a single zone to JLD.</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/AgBase/io.jl#L145">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.save_state!-Tuple{String, Any, String}"><a class="docstring-binding" href="#Agtor.save_state!-Tuple{String, Any, String}"><code>Agtor.save_state!</code></a> — <span class="docstring-category">Method</span></summary><div><p>Save state to JLD</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/AgBase/io.jl#L67">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.scenario_stats-Tuple{DataFrames.DataFrame, String}"><a class="docstring-binding" href="#Agtor.scenario_stats-Tuple{DataFrames.DataFrame, String}"><code>Agtor.scenario_stats</code></a> — <span class="docstring-category">Method</span></summary><div><p>Get aggregate statistics for an entire scenario run.</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/AgBase/ResultsHandler.jl#L94">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.seasonal_field_log!-Tuple{FarmField, Dates.Date, Vararg{Float64, 5}}"><a class="docstring-binding" href="#Agtor.seasonal_field_log!-Tuple{FarmField, Dates.Date, Vararg{Float64, 5}}"><code>Agtor.seasonal_field_log!</code></a> — <span class="docstring-category">Method</span></summary><div><p>Log seasonal results.</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/Field.jl#L116-L118">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.select_results-Tuple{DataFrames.DataFrame, String}"><a class="docstring-binding" href="#Agtor.select_results-Tuple{DataFrames.DataFrame, String}"><code>Agtor.select_results</code></a> — <span class="docstring-category">Method</span></summary><div><p>Filter DataFrame down to a subset of results based on partial column name match.</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/AgBase/ResultsHandler.jl#L88">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.set_next_crop!-Tuple{Manager, FarmField, Dates.Date}"><a class="docstring-binding" href="#Agtor.set_next_crop!-Tuple{Manager, FarmField, Dates.Date}"><code>Agtor.set_next_crop!</code></a> — <span class="docstring-category">Method</span></summary><div><p>Sets next crop in rotation and updates sowing/planting dates.</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/Manager.jl#L357">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.set_params!-Tuple{Any, Any}"><a class="docstring-binding" href="#Agtor.set_params!-Tuple{Any, Any}"><code>Agtor.set_params!</code></a> — <span class="docstring-category">Method</span></summary><div><pre><code class="language-julia hljs">set_params!(comp, sample)
set_params!(comp::Array, sample)::Nothing
set_params!(comp::Dict, sample)::Nothing
set_params!(p::AgParameter, sample::Union{DataFrame, DataFrameRow})::Nothing
set_params!(p::AgParameter, sample::Union{Number, String})::Nothing
set_params!(p::AgParameter, sample::Union{Dict, NamedTuple})::Nothing</code></pre><p><strong>Note</strong></p><p><code>update_model!(comp, sample)</code> is an alias for <code>set_params!(comp, sample)</code></p><p><strong>Example</strong></p><pre><code class="language-julia hljs">zone_dir = &quot;data_dir/zones/&quot;
zone_specs = load_yaml(zone_dir)
zone_params = generate_agparams(&quot;&quot;, zone_specs[&quot;Zone_1&quot;])

collated_specs = []
collect_agparams!(zone_params, collated_specs; ignore=[&quot;crop_spec&quot;])

# Expect only CSV for now...
climate_fn::String = &quot;data/climate/farm_climate_data.csv&quot;
climate::Climate = load_climate(climate_fn)
z1 = create(zone_params, climate)

param_info = DataFrame(collated_specs)

# Generate dataframe of samples
samples = sample(param_info, 1000, sampler)  # where sampler is some function

# Update z1 components with values found in first row
set_params!(z1, samples[1, :])</code></pre><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/AgBase/Parameter.jl#L377-L411">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.subtotal_costs-Tuple{Irrigation, Int64}"><a class="docstring-binding" href="#Agtor.subtotal_costs-Tuple{Irrigation, Int64}"><code>Agtor.subtotal_costs</code></a> — <span class="docstring-category">Method</span></summary><div><p>Calculate sub-total of irrigation costs</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/Infrastructure/Irrigation.jl#L27">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.subtotal_costs-Tuple{WaterSource, Float64, Float64}"><a class="docstring-binding" href="#Agtor.subtotal_costs-Tuple{WaterSource, Float64, Float64}"><code>Agtor.subtotal_costs</code></a> — <span class="docstring-category">Method</span></summary><div><pre><code class="language-julia hljs">subtotal_costs(ws::WaterSource, area::Float64, water_used_ML::Float64)::Float64</code></pre><p>Calculate costs for irrigated area.</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/WaterSource.jl#L20-L24">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.total_costs-Tuple{FarmField, Dates.Date, Array{WaterSource}}"><a class="docstring-binding" href="#Agtor.total_costs-Tuple{FarmField, Dates.Date, Array{WaterSource}}"><code>Agtor.total_costs</code></a> — <span class="docstring-category">Method</span></summary><div><p>Calculate total costs for a field.</p><p>Maintenance costs can be spread out across a number of fields if desired.</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/Field.jl#L415-L419">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.total_income-Tuple{FarmField, Float64, Float64, Float64, Tuple{Dates.Date, Vector{WaterSource}}}"><a class="docstring-binding" href="#Agtor.total_income-Tuple{FarmField, Float64, Float64, Float64, Tuple{Dates.Date, Vector{WaterSource}}}"><code>Agtor.total_income</code></a> — <span class="docstring-category">Method</span></summary><div><pre><code class="language-julia hljs">total_income(
    f::FarmField, ssm::Float64, gsr::Float64, irrig::Float64,
    comps::Tuple{Date, Vector{WaterSource}}
)::Tuple</code></pre><p>Calculate net income considering crop yield and costs incurred.</p><p><strong>Returns</strong></p><p>Tuple:</p><ul><li>float : net income</li><li>float : irrigated crop yield [t/ha]</li><li>float : dryland crop yield [t/ha]</li></ul><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/Field.jl#L328-L341">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.update_SWD!-Tuple{FarmField, Float64, Float64}"><a class="docstring-binding" href="#Agtor.update_SWD!-Tuple{FarmField, Float64, Float64}"><code>Agtor.update_SWD!</code></a> — <span class="docstring-category">Method</span></summary><div><pre><code class="language-julia hljs">update_SWD!(f::FarmField, rainfall::Float64, ET::Float64)</code></pre><p>Calculate soil water deficit, and update <code>f.soil_SWD</code></p><p>Water deficit is represented as positive values.</p><p><code>rainfall</code> and <code>ET</code> parameters are expected in mm.</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/Field.jl#L130-L138">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.update_available_water!-Tuple{FarmZone, NamedTuple}"><a class="docstring-binding" href="#Agtor.update_available_water!-Tuple{FarmZone, NamedTuple}"><code>Agtor.update_available_water!</code></a> — <span class="docstring-category">Method</span></summary><div><p>Update water allocations</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/Zone.jl#L195">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.update_stages!-Tuple{Crop, Dates.Date}"><a class="docstring-binding" href="#Agtor.update_stages!-Tuple{Crop, Dates.Date}"><code>Agtor.update_stages!</code></a> — <span class="docstring-category">Method</span></summary><div><p>Update growth stages with corresponding dates from given sowing date.</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/Crop.jl#L93">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.use_allocation!-Tuple{WaterSource, Float64}"><a class="docstring-binding" href="#Agtor.use_allocation!-Tuple{WaterSource, Float64}"><code>Agtor.use_allocation!</code></a> — <span class="docstring-category">Method</span></summary><div><p>Use allocation volume from a particular water source.</p><p>Volumes in ML.</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/Zone.jl#L42-L46">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.value_range-Tuple{AgParameter}"><a class="docstring-binding" href="#Agtor.value_range-Tuple{AgParameter}"><code>Agtor.value_range</code></a> — <span class="docstring-category">Method</span></summary><div><p>Returns max - min, or 0.0 if no min value defined</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/AgBase/Parameter.jl#L356">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.volume_used_by_source-Tuple{FarmField, String}"><a class="docstring-binding" href="#Agtor.volume_used_by_source-Tuple{FarmField, String}"><code>Agtor.volume_used_by_source</code></a> — <span class="docstring-category">Method</span></summary><div><p>Volume used from a water source in ML</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/Field.jl#L93">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Agtor.water_used_by_source-Tuple{FarmZone}"><a class="docstring-binding" href="#Agtor.water_used_by_source-Tuple{FarmZone}"><code>Agtor.water_used_by_source</code></a> — <span class="docstring-category">Method</span></summary><div><pre><code class="language-julia hljs">water_used_by_source(zone::FarmZone)::DataFrame
water_used_by_source(zone::FarmZone, dt)::DataFrame</code></pre><p>Identify source of water used by a zone.</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/Zone.jl#L294-L299">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Base.getproperty-Tuple{FarmField, Symbol}"><a class="docstring-binding" href="#Base.getproperty-Tuple{FarmField, Symbol}"><code>Base.getproperty</code></a> — <span class="docstring-category">Method</span></summary><div><p>Getter for Field</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/Field.jl#L27">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Base.getproperty-Tuple{Irrigation, Symbol}"><a class="docstring-binding" href="#Base.getproperty-Tuple{Irrigation, Symbol}"><code>Base.getproperty</code></a> — <span class="docstring-category">Method</span></summary><div><p>Getters for Irrigation</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/Infrastructure/Irrigation.jl#L12">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Base.setproperty!-Tuple{Agtor.CategoricalParameter, Symbol, Any}"><a class="docstring-binding" href="#Base.setproperty!-Tuple{Agtor.CategoricalParameter, Symbol, Any}"><code>Base.setproperty!</code></a> — <span class="docstring-category">Method</span></summary><div><p>Setter for CategoricalParameter to handle float to categorical element position.</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/AgBase/Parameter.jl#L70">source</a></div></details></article><article><details class="docstring" open="true"><summary id="Base.setproperty!-Tuple{FarmField, Symbol, Any}"><a class="docstring-binding" href="#Base.setproperty!-Tuple{FarmField, Symbol, Any}"><code>Base.setproperty!</code></a> — <span class="docstring-category">Method</span></summary><div><p>Setter for Field</p><a class="docs-sourcelink" target="_blank" href="https://github.com/ConnectedSystems/Agtor.jl/blob/623eb325a6f3a42ccf1b886b6bbc0e949f935a4b/src/Field.jl#L72">source</a></div></details></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../getting_started/">« Getting Started</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.0 on <span class="colophon-date" title="Sunday 16 November 2025 01:01">Sunday 16 November 2025</span>. Using Julia version 1.11.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
